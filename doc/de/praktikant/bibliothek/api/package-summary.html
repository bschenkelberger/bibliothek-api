<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="de">
<head>
<!-- Generated by javadoc (1.8.0_131) on Thu Aug 08 15:35:35 CEST 2019 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>de.praktikant.bibliothek.api</title>
<meta name="date" content="2019-08-08">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="de.praktikant.bibliothek.api";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Package</li>
<li><a href="../../../../de/praktikant/bibliothek/api/backend/hibernate/entitys/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?de/praktikant/bibliothek/api/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 title="Package" class="title">Package&nbsp;de.praktikant.bibliothek.api</h1>
<div class="docSummary">
<div class="block">ReST steht für <b>Re</b>presentational <b>S</b>tate <b>T</b>ransfer, API für <b>A</b>pplication <b>P</b>rogramming <b>I</b>nterface.</div>
</div>
<p>See:&nbsp;<a href="#package.description">Description</a></p>
</div>
<div class="contentContainer">
<ul class="blockList">
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Class Summary table, listing classes, and an explanation">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../de/praktikant/bibliothek/api/BibliothekApiApplication.html" title="class in de.praktikant.bibliothek.api">BibliothekApiApplication</a></td>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</li>
</ul>
<a name="package.description">
<!--   -->
</a>
<h2 title="Package de.praktikant.bibliothek.api Description">Package de.praktikant.bibliothek.api Description</h2>
<div class="block">ReST steht für <b>Re</b>presentational <b>S</b>tate <b>T</b>ransfer, API für <b>A</b>pplication <b>P</b>rogramming <b>I</b>nterface.<br>
 Gemeint ist damit eine Programmierschnittstelle, die sich an den Paradigmen und dem Verhalten des World Wide Web (WWW) orientiert und einen Ansatz
 für die Kommunikation zwischen Client und Server in Netzwerken beschreibt. Die Bezeichnung „Representational State Transfer“ soll den Übergang vom
 aktuellen Zustand zum nächsten Zustand (state) einer Applikation verbildlichen.
 <p>
 Bei der <i>bibliothek-api</i> handelt es sich um die Implementierung einer ReST-API zur Verwaltung von Bibliotheksbeständen und -kunden. Als
 Bestand können derzeit nur Bücher verwaltet werden.
 <p>
 Sie ist zur Ausführung auf einem Schulungs-Notebook gedacht und arbeitet mit Spring Boot.
 <p>
 Die <i>bibliothek-api</i> erwartet eine MySQL-Datenbank mit dem Namen <code>bibliothek_dev</code>, die einen User <code>bibliothek</code> mit dem
 Passwort <code>developer</code> kennt und auf dem Host <code>localhost</code> läuft.<br>
 Ist diese Voraussetzung erfüllt, kann die <i>bibliothek-api</i> durch den Befehl <strong><i>mvn spring-boot:run –Pdev</i></strong> in ihrem
 root-Verzeichnis gestartet werden.
 <p>
 Das REST-Paradigma wird von der <i>bibliothek-api</i> über das zustandslose Client-Server-Protokoll HTTP realisiert. Services werden per URL/URI
 angesprochen. Die HTTP-Methoden geben an, welche Operation ein Dienst ausführen soll.
 <ul>
 <li>GET - fordert Daten vom Server an
 <li>POST - übermittelt Daten an den Server
 <li>PUT - ändern bestehende Daten auf dem Server
 <li>DELETE - löscht bestehende Daten auf dem Server
 </ul>
 Die Basis-URL zum Aufruf der ReST-Services ist in den <code>application.properties</code> definiert und lautet:
 <strong>http://localhost:8081/bibliothek/api</strong><br>
 Services, die Bücher betreffen, werden durch die Ergänzung <strong>/books</strong> gekennzeichnet.<br>
 Folgende Services sind implementiert:
 <ul>
 <li><a href="../../../../de/praktikant/bibliothek/api/resources/BookResource.html#getBooks--">Liste aller Bücher</a>
 <li><a href="../../../../de/praktikant/bibliothek/api/resources/BookResource.html#getBookById-java.lang.Long-"><i>ein</i> Buch aus der Datenbank lesen</a>
 <li><a href="../../../../de/praktikant/bibliothek/api/resources/BookResource.html#getHistory-java.lang.Long-">die Ausleih-Historie eines Kunden</a>
 <li><a href="../../../../de/praktikant/bibliothek/api/resources/BookResource.html#postBook-de.praktikant.bibliothek.api.backend.hibernate.entitys.books.BookEntity-">ein Buch in die Datenbank einfügen</a>
 <li><a href="../../../../de/praktikant/bibliothek/api/resources/BookResource.html#putBook-de.praktikant.bibliothek.api.backend.hibernate.entitys.books.BookEntity-">Daten eines Buchs in der Datenbank ändern</a>
 <li><a href="../../../../de/praktikant/bibliothek/api/resources/BookResource.html#lendBook-java.lang.Long-java.lang.Long-">ein Buch als vom Kunden ausgeliehen markieren</a>
 <li><a href="../../../../de/praktikant/bibliothek/api/resources/BookResource.html#returnBook-java.lang.Long-">das Ende der Ausleihe eines Buches darstellen</a>
 </ul>
 Services, die Kunden betreffen, werden durch die Ergänzung <strong>/customer</strong> gekennzeichnet.<br>
 Folgende Services sind implementiert:
 <ul>
 <li><a href="../../../../de/praktikant/bibliothek/api/resources/CustomerResource.html#getCustomer--">Liste aller Kunden</a>
 <li><a href="../../../../de/praktikant/bibliothek/api/resources/CustomerResource.html#getCustomerById-java.lang.Long-"><i>einen</i> Kunden aus der Datenbank lesen</a>
 <li><a href="../../../../de/praktikant/bibliothek/api/resources/CustomerResource.html#getLendBooks-java.lang.Long-">Liste der geliehenen Bücher eines Kunden</a>
 <li><a href="../../../../de/praktikant/bibliothek/api/resources/CustomerResource.html#postCustomer-de.praktikant.bibliothek.api.backend.hibernate.entitys.customer.CustomerEntity-">einen weiteren Kunden in die Datenbank aufnehmen</a>
 <li><a href="../../../../de/praktikant/bibliothek/api/resources/CustomerResource.html#putCustomer-de.praktikant.bibliothek.api.backend.hibernate.entitys.customer.CustomerEntity-">Daten eines Kunden verändern</a>
 </ul>
 Für die Verwendung z.B. des Services "Liste aller Bücher" in einer Client-Anwendung sind folgende Schritte notwendig:
 <ul>
 <li>Die Klasse <a href="../../../../de/praktikant/bibliothek/api/resources/response/BaseResponse.html" title="class in de.praktikant.bibliothek.api.resources.response">BaseResponse</a> muss in den Client kopiert werden.
 <li>Gemäß der Klasse <a href="../../../../de/praktikant/bibliothek/api/resources/response/book/BookListResponse.html" title="class in de.praktikant.bibliothek.api.resources.response.book">BookListResponse</a> muss ein clientseitiges
 Interface <code>BookListResponse</code> und eine implementierende Klasse <code>BookListResponseImpl</code>, die von
 <code>BaseResponse</code> ableitet, erstellt werden. Hintergrund ist, dass die Webservices Daten im JSON-Format liefern und auch erwarten. Mit Hilfe des <code>com.fasterxml.jackson.databind.ObjectMapper</code>s
 werden die JSON-Daten in Java-Klassen - eben die Response-Klassen - transformiert.
 </ul>
 Jetzt kann folgender Code zum Ermitteln aller Bücher der Bibliothek kodiert werden:
 
 <pre>
 <code>BookResponse result = new BookResponseImpl();<br>
  try {<br>
    URL url = new URL("http://localhost:8081/bibliothek/api/books");<br>
    HttpURLConnection conn = (HttpURLConnection) url.openConnection();
    conn.setRequestMethod("GET");
    conn.setRequestProperty("Accept", "application/json");<br>
    if (conn.getResponseCode() != 200) {
      throw new RuntimeException("Failed : HTTP error code : " + conn.getResponseCode());
    }<br>
    result = new ObjectMapper().readValue(new InputStreamReader(conn.getInputStream()), BookResponseImpl.class);<br>
    conn.disconnect();<br>
    } catch (….) {
  }<br>
  return result;
 </code>
 </pre>
 <p>
 Der Client-Code zum Ändern eines Buches könnte wie folgt aussehen:
 
 <pre>
 <code>BookEntity entity = (BookEntity) &lt; Buchobjekt mit geänderten Attributen &gt;;

        try {

            URL url = new URL("http://localhost:8081/bibliothek/api/books");

            HttpURLConnection conn = (HttpURLConnection) url.openConnection();
            conn.setDoOutput(true);
            conn.setRequestMethod("PUT");
            conn.setRequestProperty("Content-Type", "application/json");

            ObjectMapper mapper = new ObjectMapper();
            String jasonTrackString = mapper.writeValueAsString(entity);
            OutputStream os = conn.getOutputStream();
            os.write(jasonTrackString.getBytes());
            os.flush();

            if (conn.getResponseCode() != HttpURLConnection.HTTP_OK) {
                throw new WicketRuntimeException("Failed : HTTP error code: " + conn.getResponseCode());
            }

            conn.disconnect();

        } catch (MalformedURLException e) {
            e.printStackTrace();

        } catch (IOException e) {
            e.printStackTrace();
        }
 </code>
 </pre>
 
 Die clientseitige <code>BookEntity</code> muss dazu der <a href="../../../../de/praktikant/bibliothek/api/backend/hibernate/entitys/books/BookEntity.html" title="class in de.praktikant.bibliothek.api.backend.hibernate.entitys.books">BookEntity</a> nachgebildet werden.</div>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Package</li>
<li><a href="../../../../de/praktikant/bibliothek/api/backend/hibernate/entitys/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?de/praktikant/bibliothek/api/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
